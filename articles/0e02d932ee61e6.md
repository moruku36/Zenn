---
title: "Chat GPT で Azure Policy を生成してみる"
emoji: "🐥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Azure ,ChatGPT,Azure Policy]
published: false
---
## はじめに
Azure Policy を ChatGPTで生成してみようという思い付き記事です。
Azure Policyとは、Azureのリソースに対してルールを定義して適用するサービスです。ポリシー定義はJSONファイルで記述され、リソースの準拠条件と、条件が満たされた場合の効果を記述します。ポリシー定義は、管理グループ、サブスクリプション、リソースグループ、個々のリソースなどの任意のスコープに割り当てることができます。

Azure Policyを使って、Azureのリソースに対して様々なガバナンスやコンプライアンスの要件を実現することができます。たとえば、以下のようなシナリオが考えられます。

- チームが許可されたリージョンにのみAzureリソースをデプロイするようにする
- 分類タグの一貫した適用を実施する
- Log Analyticsワークスペースに診断ログを送信するようにリソースに要求する
- 準拠していないリソースを修復する

## やってみる

1. Azure portalにサインインします。
2. メニューから「ポリシー」を選択します。

3. 「定義」タブから「+ ポリシー定義」をクリックします。
4. 「基本情報」タブで以下の情報を入力します。
  - 名前: 任意の名前を入力します。例えば、「許可されたロケーション」
  - 説明: ポリシー定義の目的や内容を簡潔に記述します。例えば、「許可されたロケーションにのみリソースをデプロイするように制限する」
  - カテゴリ: ポリシー定義を分類するためのカテゴリを選択します。例えば、「場所」
  - パラメーター: ポリシー定義に必要なパラメーターを定義します。この例では、許可されたロケーションの配列を指定するパラメーターが必要です。以下のJSONコードをコピーして貼り付けます。

5. 「規則」タブで以下の情報を入力します。
規則: ポリシー定義のロジックを記述するJSONコードです。この例では、以下のJSONコードをコピーして貼り付けます。